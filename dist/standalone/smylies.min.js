/*! */
/*!
 * smylies.js v1.0.0 - "Sogeking no shima deeeeeee - One Piece"
 * ~~~~~~~~~~~~~~~~~~
 *
 * Example of use HTML:
 * <textarea id="to-transform"></textarea>
 * <div id="smiley">
 *     <a href="#" data-code="-_-" title="-_-">Ambivalent</a>
 *     <a href="#" data-code=":angel:" title=":angel:">Angel</a>
 *     <a href="#" data-code=":angry:" title=":angry:">Angry</a>
 *     <a href="#" data-code=":miaou:" title=":miaou:">Cat</a>
 * </div>
 *
 * Example of use JS:
 * $('#to-transform').smylies({
 *     smiley: '#smiley'
 * });
 *
 * ~~~~~~~~~~~~~~~~~~
 * Copyright 2015 Achraf Chouk <achrafchouk@gmail.com>
 */
!function(a){"use strict";var b=function(b,c){
//vars
var d=this;
//check smilies context
if(d.options=a.extend({},c),d.$el=b,d.$smiley=a(d.options.smiley),d.$smiley.length){var e=d.$smiley.find("a");
//check smilies links
e.length&&
//initialize
e.on("click",function(b){b.preventDefault();
//get details
var c=a(this).attr("data-code")||"";
//insert smile
d.insertSmile(c)})}};b.prototype.options={},b.prototype.$el=null,b.prototype.$smiles=null,b.prototype.insertSmile=function(a){
//check code
if(""!==a){var b=this,c=" "+a+" ",d="";
//set selected text
if(document.selection)
//modify the selected text by the new one
document.selection.createRange().text=c,
//get the focus back to the textarea
b.$el.focus();else if(b.$el[0].selectionStart||0===b.$el[0].selectionStart){var e=b.$el[0].selectionStart,f=b.$el[0].selectionEnd,g=e;
//get the element value
d=b.$el.val();
//get the new textarea value
var h=d.substring(0,e);
//update new value
h+=c+d.substring(f,d.length),
//set new value
b.$el.val(""+h),
//define the new cursor position
g+=c.length,
//get the focus back to the textarea
b.$el.focus(),
//define the cursor position
b.$el[0].selectionStart=g,b.$el[0].selectionEnd=g}else d=b.$el.val()+c,b.$el.val(""+d),b.$el.focus()}};var c={init:function(c){if(!this.length)return!1;var d={smiley:"#smiley"};return this.each(function(){c&&a.extend(d,c),new b(a(this),d)})},update:function(){},destroy:function(){}};a.fn.smylies=function(b){return c[b]?c[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?void a.error("Method "+b+" does not exist on jQuery.Smylies"):c.init.apply(this,arguments)}}(window.jQuery);